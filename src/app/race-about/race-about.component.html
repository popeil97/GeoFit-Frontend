<div class="row">
  <div class="column-about1">
   <div class="container" style="text-align: left;" id="raceView">

     <mat-card class="example-card" style="height:670px;" >
       <mat-card-header>
         <i class="material-icons" style="color:#2C00A5;" type="button" routerLink='/races'>keyboard_backspace</i>
         
            <div *ngIf="aboutData.race_type == 1">
               <mat-card-title>{{aboutData.name}}
               <i class="material-icons" style="color:#BC164D;">directions_run</i>

          
               <app-signup *ngIf="!hasJoined" [price]="raceSettings.price" style="color:#2C00A5;color: rgba(255, 255, 255, 1);
                box-shadow: 0 5px 15px rgba(145, 92, 182, .4);
                background: #2C00A5;
                border-radius: 4px;
                font-weight: normal;
                text-transform: uppercase;
                transition: all 0.2s ease-in-out;
                width:90px;" [aboutData]="aboutData" [race_id]="raceID" [hasStarted]="hasStarted" (signupCallback)="signupCallback($event)" [hasPaid]="hasPaid" (click)="trySignup()"></app-signup>




             

             </mat-card-title>

             </div>
             <div *ngIf="aboutData.race_type == 2">
               <mat-card-title>{{aboutData.name}}
                   <i class="material-icons" style="color:#BC164D;">directions_bike</i>
                 </mat-card-title>
           </div>
           <div *ngIf="aboutData.race_type == 3">
               <mat-card-title>{{aboutData.name}}
               <i class="material-icons" style="color:#BC164D;">directions_run</i><i class="material-icons" style="color:#BC164D;">directions_bike</i>
             </mat-card-title>
           </div>


         <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->
       </mat-card-header>
       <mat-card-content>
         <i class="material-icons" style="color:#BC164D">map</i><span id="txt1">From <b>{{ aboutData.start_loc }}</b> to <b>{{aboutData.end_loc}}</b> <i style="color:#BC164D;">   {{ aboutData.distance }} {{ aboutData.distance_type }}</i></span>
        <i class="material-icons" style="color:#BC164D;">date_range</i><span id="txt1">     From <b> 8/16, 12:01 AM </b> to <b> 9/18, 5:00 PM (EST)</b> <i style="font-size:10px; color:#BC164D;"> Need help? Email admin@tucan.fitness </i></span> 

        <div class="row">
          <div class="column-map">

            <mat-card class="example-card" style="border-top-right-radius:0px;border-bottom-right-radius:0px;" >
       <mat-card-header>
         <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->
       </mat-card-header>
       <mat-card-content>
         <app-map [coordinates]="coords" [userData]="all_user_data" [displayUsers]="true"></app-map>
         <br><br> <br><br> <br><br><br><br> <br><br> <br><br><br><br> <br><br> <br><br><br><br> <br><br> <br><br>
       </mat-card-content>
     </mat-card>


          </div>

          <div class="column-map">

            <mat-card class="example-card" >
       <mat-card-header>
         <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->
       </mat-card-header>
       <mat-card-content>
        <div style="max-height: 480px;overflow: auto; border-top-left-radius:0px;border-bottom-left-radius:0px;">
         <h4 style="text-align:center;"><b>Live Leaderboard</b></h4>
         <app-leaderboard [leaderboard]="leaderboard"></app-leaderboard>
         
       </div>
       </mat-card-content>
     </mat-card>
    </div>
    </div>
        
    </mat-card-content>
      <mat-card-actions>
        <!--<button mat-button (click)="joinRace()" *ngIf="this._authService.token">JOIN</button> -->
         
        <!---CAN UNCOMMENT THIS WHEN RABBI RACE BEGINS ON 08/16/20
          <button mat-button (click)="viewRace()" *ngIf="hasStarted">VIEW MAP</button>
          --->

       </mat-card-actions>
     </mat-card>

     <br>
   </div>
 </div>

 <div class="column-about">

   <div class="container" *ngIf="!showForm">
       <mat-card class="example-card " style="height:670px;">
     <mat-card-header>
       <mat-card-title>About Race</mat-card-title>
       <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->

     </mat-card-header>
     <mat-card-content >
       <img src="../../assets/landing/adam.jpeg" alt="Adam" style="width:100%;" class="center">
      <div style="overflow-y: scroll;height: 300px;background-color:#EFFAF7;">
      Tucan Fitness has generously helped us create a virtual 100 mile challenge in honor of Adam. The challenge will begin on August 16th and end on September 18th, which this year falls on Adam’s Hebrew birthday, כ״ט אלול - erev Rosh Hashanah. Everyone can participate in whichever way - running, walking, biking, swimming, etc. - and at whatever level they want. Do it outside, on a treadmill and/or on a stationary bike as you binge watch even more Netflix. The key is that this will bring us together to honor Adam and help connect us when we cannot gather together in person.
      <br><br>
      While each participant will run, walk or bike in their own neighborhood or home, our shared virtual route will start in Jerusalem and continue in New Jersey. Each stop on the virtual route was part of Adam’s life. One stop on the route is The Jewish Center in Princeton, New Jersey, where Adam was honored to serve as Rabbi for 14½ years, and 100% of every participant dollar will benefit the synagogue’s Rabbi Adam Feldman Memorial Fund. The virtual route will end at Citizens Bank Park in Philadelphia, where Adam’s beloved Phillies play. Each participant should register on their own and then, when the race begins, you can track your own progress or form a group (of up to 5 participants) and track your group’s progress. You will also be able to upload photos of your activities, which we would love to see!
      <br><br>
      We hope you join us in this challenge, whether you complete all or less than all of the ~100 miles!
      <br><br>
      Fondly and with sMiles,
      <br>
      Sara Bucholtz and Talia, Dena & Ilan Feldman
      <br>
      August 4, 2020 / י״ד אב תש״פ


</div>


<div class="row">

  <div class="column-merch">
    

     <img src="../../assets/landing/sMILES.png" alt="Race Image" style="width:80%;" class="center">



     
  </div>
  <div class="column-merch">
    <app-swag *ngIf="hasMerch" [isOwner]="isOwner" [race_id]="raceID"  style="padding-left: 10%;width:80%;"></app-swag>
  </div>
</div>
    

     </mat-card-content>
     <mat-card-actions>
       <button mat-button (click)="toggleForm()" *ngIf="isOwner">EDIT</button>
     </mat-card-actions>
   </mat-card>
   </div>

  
   <div class="container" *ngIf="showForm">
 <form [formGroup]="AboutForm">
   <div class="form-group" style="text-align: left; padding: 5px;">
     <label name="Name">Name</label>
     <input class="form-control" type="text" placeholder="Name" formControlName="name"/>
     <br>
     <div *ngIf="AboutForm.get('name').invalid && (AboutForm.get('name').dirty || AboutForm.get('name').touched)"
   class="alert alert-danger">
   
   <div *ngIf="AboutForm.get('name').errors.required">
      Name is required.
   </div>
   </div>
   </div>

   <div class="form-group" style="text-align: left; padding: 5px;">
     <label name="description">Description</label>
     <textarea class="form-control" type="text" placeholder="Description" formControlName="description"></textarea>
     <br>
     <div *ngIf="AboutForm.get('description').invalid && (AboutForm.get('description').dirty || AboutForm.get('description').touched)"
   class="alert alert-danger">
   
   <div *ngIf="AboutForm.get('description').errors.required">
      Description is required.
   </div>
   </div>
   </div>

   <div class="form-group" style="text-align: left; padding: 5px;">
     <label name="raceImage">Race Image</label>
     <input type="file" formControlName="raceImage" (change)="onSelectFile($event)"/>
   </div>

   <div formGroupName="rules"> 
     <div class="form-group">
       <mat-slide-toggle formControlName="isManual">Allow Manual Entry</mat-slide-toggle>
     </div>
     <div class="form-group">
       <mat-slide-toggle formControlName="allowTeams">Allow Teams</mat-slide-toggle>
     </div>

     <div class="form-group" style="text-align: left; padding: 5px;" *ngIf="AboutForm.get('rules').get('allowTeams').value == true">
       <label>Max Team Size</label>
       <input class="form-control" type="text" formControlName="maxTeamSize" [matAutocomplete]="maxTeamSizeAuto"/>
 
       <mat-autocomplete #maxTeamSizeAuto="matAutocomplete">
         <mat-option *ngFor="let option of teamSizeOptions" [value]="option">
           {{ option }}
         </mat-option>
       </mat-autocomplete>
 
       <div *ngIf="AboutForm.get('rules').get('maxTeamSize').invalid && (AboutForm.get('rules').get('maxTeamSize').dirty || AboutForm.get('rules').get('maxTeamSize').touched)"
     class="alert alert-danger">
     
     <div *ngIf="AboutForm.get('rules').get('maxTeamSize').errors.max">
        Max Team Size is 10
     </div>
     </div>
     </div>

     <div class="form-group">
      <mat-slide-toggle formControlName="paymentRequired">Require Entry Fee</mat-slide-toggle>
    </div>

    <div class="form-group">
      <mat-slide-toggle formControlName="hasSwag">Add Merchandise Widget</mat-slide-toggle>
    </div>

    <div class="form-group" style="text-align: left; padding: 5px;" *ngIf="AboutForm.get('rules').get('paymentRequired').value == true">
      <label>Entry Fee</label>
      <input class="form-control" type="text" formControlName="price"/>

   </div>

   

   <div style="padding: 5px; position: relative; float: left;">
     <button class="btn btn-primary" mat-raised-button (click)="update()">Update</button>
     <button class="btn btn-danger" mat-raised-button style="left: 5px;" (click)="toggleForm()">Cancel</button>
   </div>

   </div>
 </form>
</div>

 
         
   
 </div>


</div>




<div class="modal fade" id="registerModal">
 <div class="modal-dialog">
   <div class="modal-content">

     <!-- Modal Header -->
     <div class="modal-header">
       <h4 class="modal-title">Please Register as a Tucan User First</h4>
       <button type="button" class="close" (click)="hideModal('#registerModal')">&times;</button>
     </div>

     <!-- Modal body -->
     <div class="modal-body">
       <app-register (registerAlert)="confirmRegistration($event)"></app-register>
     </div>


   </div>
 </div>
</div>



  <br>



  
